# 自动点击器使用说明

## 🎯 功能特性

这是一个功能强大的跨平台自动鼠标点击工具，支持以下特性：

### ✅ 已实现的功能

1. **跨平台支持** - 完美支持 Windows 和 macOS 系统
2. **可视化界面** - 直观的图形用户界面，操作简单
3. **区域选择** - 可在屏幕上绘制四边形区域作为点击范围
4. **随机时间间隔** - 设置点击的最小和最大时间间隔
5. **随机点击次数** - 每次可执行1-N次连续点击
6. **位置偏差** - 连续点击时的随机位置偏移
7. **时长控制** - 可设置总运行时长或选择无限时长
8. **次数限制** - 可设置总点击次数上限或选择无限次数
9. **可滚动界面** - 支持鼠标滚轮和触控板滚动，适应不同屏幕大小
10. **快捷键支持** - 提供常用功能的键盘快捷键，提升操作效率
11. **实时状态显示** - 显示运行状态、点击统计、剩余时间和剩余次数

## 🚀 安装和运行

### 方法一：使用启动脚本（推荐）

```bash
./启动程序.sh
```

### 方法二：手动安装和运行

#### 1. 创建虚拟环境
```bash
python3 -m venv venv
```

#### 2. 激活虚拟环境
```bash
source venv/bin/activate
```

#### 3. 安装依赖
```bash
pip install -r requirements.txt
```

#### 4. 运行程序
```bash
python auto_clicker.py
```

### macOS 权限设置

⚠️ **重要**: 在macOS上首次运行时，需要授权辅助功能权限：

1. 打开"系统偏好设置"
2. 选择"安全性与隐私"
3. 点击"辅助功能"标签
4. 点击左下角的锁图标解锁
5. 添加并勾选"终端"或"Python"应用
6. 重启程序

## 📖 使用指南

### 1. 选择点击区域
- **鼠标操作**: 点击"选择屏幕区域"按钮
- **快捷键操作**: 按Ctrl+S键快速启动区域选择
- 在弹出的全屏界面中拖拽鼠标选择区域
- 选择的区域会用红色边框显示，实时显示区域大小
- 按ESC键可以取消选择

### 2. 设置时间间隔
- **最小间隔**: 两次点击事件之间的最短等待时间
- **最大间隔**: 两次点击事件之间的最长等待时间
- 程序会在这个范围内随机选择等待时间

### 3. 设置点击次数
- **最小次数**: 每次点击事件的最少点击数
- **最大次数**: 每次点击事件的最多点击数
- **连续点击最小间隔**: 连续点击之间的最短间隔时间（不低于50ms）
- **连续点击最大间隔**: 连续点击之间的最长间隔时间（不超过500ms）

### 4. 设置位置偏差
- **X轴偏差**: 连续点击时X方向的最大偏移像素
- **Y轴偏差**: 连续点击时Y方向的最大偏移像素

### 5. 开始/停止点击
- **鼠标操作**: 点击"开始自动点击"按钮启动，点击"停止点击"按钮停止
- **快捷键操作**: 按Ctrl+Enter键快速开始/停止
- **紧急停止**: 按ESC键或将鼠标移动到屏幕左上角立即停止

### 6. 界面滚动操作
- **鼠标滚轮**: 在程序窗口内使用鼠标滚轮上下滚动
- **触控板**: 在 macOS 上可使用触控板的双指滚动手势
- **键盘**: 可使用上下方向键进行滚动
- **窗口调整**: 可随意调整窗口大小，内容会自动适应并保持滚动功能

### 7. 快捷键操作

#### 🎯 主要功能快捷键
|      快捷键      |      功能      |              说明               |
|-----------------|----------------|--------------------------------|
|    **Ctrl+S**   |   选择屏幕区域   |  启动区域选择工具，拖拽选择点击区域 |
|  **Ctrl+Enter** |   开始/停止点击  |  智能切换：未运行时开始，运行时停止 |
|     **ESC**     |    强制停止     |   紧急停止所有点击操作，优先级最高  |
|    **Ctrl+Q**   |     退出程序    |       关闭自动点击器应用程序       |

#### 💡 快捷键使用技巧
- **快速启动流程**: Ctrl+S选择区域 → 设置参数 → Ctrl+Enter开始点击
- **紧急停止**: 遇到问题时立即按ESC键停止
- **状态切换**: Ctrl+Enter键可以在开始和停止之间快速切换
- **窗口焦点**: 确保程序窗口处于活动状态才能响应快捷键
- **智能提示**: 使用快捷键时状态栏会显示操作反馈

## ⚠️ 注意事项

1. **权限要求**: 
   - macOS 用户需要在"系统偏好设置 > 安全性与隐私 > 辅助功能"中授权终端或Python权限
   - Windows 用户可能需要以管理员身份运行

2. **安全提示**:
   - 使用前请确保了解点击目标
   - 建议在测试环境中先试用
   - 紧急情况下可按ESC键或移动鼠标到屏幕左上角停止

3. **性能建议**:
   - 不建议设置过小的时间间隔（< 0.1秒）
   - 大量点击可能影响系统性能

## 🔧 技术实现

- **GUI框架**: tkinter (Python标准库)
- **鼠标控制**: pyautogui
- **图像处理**: Pillow
- **多线程**: threading (避免界面卡顿)
- **快捷键系统**: tkinter事件绑定机制
- **滚动界面**: Canvas + Scrollbar 组合

## 🐛 故障排除

### 常见问题

1. **程序无法启动**
   - 检查Python版本 (建议3.7+)
   - 确认依赖包已正确安装

2. **无法点击/权限错误**
   - macOS: 检查辅助功能权限
   - Windows: 尝试以管理员身份运行

3. **区域选择不工作**
   - 确保没有其他全屏应用干扰
   - 重启程序后重试

4. **快捷键无响应**
   - 确保程序窗口处于活动状态（点击窗口标题栏）
   - 检查是否有其他程序占用了相同快捷键
   - 确认使用的是Ctrl组合键而不是功能键

## 📝 更新日志

### v1.3.0 (最新版本)
- ✅ 新增快捷键功能
  - Ctrl+S: 选择屏幕区域
  - Ctrl+Enter: 开始/停止点击
  - ESC: 紧急停止
  - Ctrl+Q: 退出程序
- ✅ 界面优化：按钮显示对应快捷键
- ✅ 智能状态反馈：快捷键操作提示

### v1.2.0
- ✅ 新增可滚动界面支持
- ✅ 跨平台鼠标滚轮兼容
- ✅ 触控板滚动支持（macOS）
- ✅ 窗口大小自适应

### v1.1.0
- ✅ 新增运行时长控制功能
- ✅ 新增总点击次数限制功能
- ✅ 实时状态显示（剩余时间/次数）
- ✅ 无限模式支持

### v1.0.0
- 初始版本发布
- 实现所有核心功能
- 支持Windows和macOS

---

**开发者提示**: 本程序仅供学习和合法用途使用，请遵守相关法律法规。
